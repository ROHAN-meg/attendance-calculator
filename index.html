<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Attendance Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
    box-sizing: border-box;
    font-family: "Segoe UI", sans-serif;
}
body{
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea, #764ba2);
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}
.card{
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(15px);
    border-radius: 18px;
    padding: 30px;
    width: 100%;
    max-width: 450px;
    color: white;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}
h1{
    text-align: center;
    margin-bottom: 6px;
}
.subtitle{
    text-align: center;
    font-size: 14px;
    opacity: 0.85;
    margin-bottom: 22px;
}
label{
    margin-top: 14px;
    display: block;
    font-size: 14px;
}
input{
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: none;
    margin-top: 6px;
    font-size: 15px;
}
button{
    width: 100%;
    margin-top: 25px;
    padding: 14px;
    font-size: 16px;
    font-weight: bold;
    border: none;
    border-radius: 14px;
    cursor: pointer;
    background: linear-gradient(135deg, #00f2fe, #4facfe);
    color: #000;
}
.result{
    margin-top: 22px;
    padding: 16px;
    border-radius: 12px;
    font-size: 15px;
    line-height: 1.6;
}
.success{
    background: rgba(0,255,0,0.15);
    border-left: 5px solid #00ff88;
}
.danger{
    background: rgba(255,0,0,0.15);
    border-left: 5px solid #ff4d4d;
}
.warning{
    background: rgba(255,165,0,0.2);
    border-left: 5px solid orange;
}
</style>
</head>

<body>

<div class="card">
    <h1>ğŸ“ Attendance Calculator</h1>
    <div class="subtitle">4 Classes + 1 Lab per day</div>

    <label>ğŸ“Š Present Attendance (%)</label>
    <input type="number" id="overallPercent" placeholder="e.g. 72">

    <label>ğŸ“˜ Class Attendance (%)</label>
    <input type="number" id="classPercent" placeholder="e.g. 68">

    <label>ğŸ§ª Lab Attendance (%)</label>
    <input type="number" id="labPercent" placeholder="e.g. 80">

    <label>ğŸ“… Remaining Working Days</label>
    <input type="number" id="days" placeholder="e.g. 20">

    <button onclick="calculate()">Calculate</button>

    <div id="result"></div>
</div>

<script>
function calculate(){

    const overallPercent = Number(document.getElementById("overallPercent").value);
    const classPercent = Number(document.getElementById("classPercent").value);
    const labPercent = Number(document.getElementById("labPercent").value);
    const days = Number(document.getElementById("days").value);

    const classesPerDay = 4;
    const labsPerDay = 1;
    const totalPerDay = classesPerDay + labsPerDay;
    const requiredPercent = 75;

    const result = document.getElementById("result");

    if(
        overallPercent < 0 || overallPercent > 100 ||
        classPercent < 0 || classPercent > 100 ||
        labPercent < 0 || labPercent > 100 ||
        days <= 0
    ){
        result.innerHTML = `
            <div class="result warning">
                âš ï¸ Please enter valid values
            </div>
        `;
        return;
    }

    // Base model using PRESENT attendance %
    const baseUnits = 100;
    const attendedSoFar = (overallPercent / 100) * baseUnits;

    const futureUnits = days * totalPerDay;
    const finalTotal = baseUnits + futureUnits;
    const requiredAttend = 0.75 * finalTotal;

    const maxPossiblePercent =
        ((attendedSoFar + futureUnits) / finalTotal) * 100;

    // ğŸš¨ Impossible
    if(maxPossiblePercent < requiredPercent){
        result.innerHTML = `
            <div class="result danger">
                ğŸš¨ <b>Impossible to reach 75%</b><br>
                Even if you attend all remaining classes & labs<br>
                Max possible: <b>${maxPossiblePercent.toFixed(2)}%</b>
            </div>
        `;
        return;
    }

    // âŒ Below 75
    if(overallPercent < requiredPercent){

        const mustAttend = Math.ceil(requiredAttend - attendedSoFar);
        const mustClasses = Math.ceil(mustAttend * (classesPerDay / totalPerDay));
        const mustLabs = mustAttend - mustClasses;

        result.innerHTML = `
            <div class="result danger">
                âŒ <b>Attendance below 75%</b><br>
                Current: <b>${overallPercent}%</b><br><br>
                ğŸ“˜ Attend <b>${mustClasses}</b> classes<br>
                ğŸ§ª Attend <b>${mustLabs}</b> labs
            </div>
        `;
    }
    // âœ… Safe
    else{

        const bunkable = Math.floor((attendedSoFar + futureUnits) - requiredAttend);
        const bunkClasses = Math.floor(bunkable * (classesPerDay / totalPerDay));
        const bunkLabs = bunkable - bunkClasses;

        result.innerHTML = `
            <div class="result success">
                âœ… <b>Attendance is safe</b><br>
                Current: <b>${overallPercent}%</b><br><br>
                ğŸ˜ You can bunk:<br>
                ğŸ“˜ <b>${bunkClasses}</b> classes<br>
                ğŸ§ª <b>${bunkLabs}</b> labs
            </div>
        `;
    }
}
</script>

</body>
</html>
